{"version":3,"file":"main.58c78227e9b7080c7e05.hot-update.js","sources":["webpack:///./src/p2/forms/ImpactStatementInfoForm.js"],"sourcesContent":["/** @jsx jsx */\nimport PropTypes from 'prop-types'\nimport { jsx } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport { ApolloConsumer } from 'react-apollo'\nimport { I18n, i18nMark } from '@lingui/react'\nimport { Trans } from '@lingui/macro'\nimport { Form, Field } from 'react-final-form'\nimport { Checkbox } from '../../components/checkbox'\nimport { Container } from '../../components/container'\nimport { ButtonsContainer } from '../../components/buttons-container'\nimport { P } from '../../components/paragraph'\nimport { TextArea } from '../../components/text-area'\nimport { Label } from '../../components/label'\nimport { finalFormAdapter } from '../../utils/finalFormAdapter'\nimport { getImpact } from '../../utils/queriesAndMutations'\n\nconst CheckboxAdapter = finalFormAdapter(Checkbox)\nconst TextAreaAdapter = finalFormAdapter(TextArea)\n\nconst howWereYouAffected = [\n  i18nMark('Device or account hacked'),\n  i18nMark('Information stolen'),\n  i18nMark('Money lost'),\n  i18nMark('Reputation damaged'),\n  i18nMark('Safety threatened'),\n  i18nMark('Wellbeing affected'),\n  i18nMark('Other impact'),\n]\n\nconst CheckboxStyle = styled('label')`\n  margin-bottom: 8pt;\n`\nconst Fieldset = styled('fieldset')`\n  margin: 0;\n  padding: 0;\n  border: none;\n`\n\nconst validate = () => {\n  return {}\n}\nexport const ImpactStatementInfoForm = props => (\n  <ApolloConsumer>\n    {client => (\n      <Form\n        initialValues={getImpact(client)}\n        onSubmit={data => props.onSubmit(client, data)}\n        validate={validate}\n        render={({ handleSubmit, values }) => (\n          <form onSubmit={handleSubmit}>\n            <Fieldset>\n              <Label htmlFor=\"howWereYouAffected\">\n                <P>\n                  <Trans>\n                    <strong>How were you affected by the scam?</strong>\n                  </Trans>\n                </P>\n              </Label>\n\n              <div>\n                <I18n>\n                  {({ i18n }) =>\n                    howWereYouAffected.map(key => {\n                      return (\n                        <CheckboxStyle key={key}>\n                          <Field\n                            name=\"howWereYouAffected\"\n                            component={CheckboxAdapter}\n                            type=\"checkbox\"\n                            value={key}\n                            label={i18n._(key)}\n                          />\n                        </CheckboxStyle>\n                      )\n                    })\n                  }\n                </I18n>\n              </div>\n            </Fieldset>\n\n            {values.howWereYouAffected &&\n            values.howWereYouAffected.indexOf('Other impact') > -1 ? (\n              <Container marginTop={[2, null, 3]}>\n                <Field\n                  name=\"otherImpact\"\n                  id=\"otherImpact\"\n                  component={TextAreaAdapter}\n                  height=\"50px\"\n                />\n              </Container>\n            ) : (\n              ''\n            )}\n\n            <br />\n            <P>\n              <Trans>\n                <strong>Tell us more about what was lost or damaged.</strong>\n              </Trans>\n            </P>\n            <div>\n              <Field\n                name=\"damage\"\n                id=\"damage\"\n                component={TextAreaAdapter}\n                height=\"75px\"\n              />\n            </div>\n\n            <ButtonsContainer buttonLink={false} cancel={true} />\n          </form>\n        )}\n      />\n    )}\n  </ApolloConsumer>\n)\n\nImpactStatementInfoForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAQA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AAbA;AAqBA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAaA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAJA;AAQA;AAAA;AAAA;AA7DA;AAJA;AADA;AAFA;AA4EA;AACA;AADA;;;;A","sourceRoot":""}