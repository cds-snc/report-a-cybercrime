{"version":3,"file":"main.971fad04f8632d84c28a.hot-update.js","sources":["webpack:///./src/p2/forms/ImpactStatementInfoForm.js"],"sourcesContent":["/** @jsx jsx */\nimport PropTypes from 'prop-types'\nimport { jsx } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport { ApolloConsumer } from 'react-apollo'\nimport { I18n, i18nMark } from '@lingui/react'\nimport { Trans } from '@lingui/macro'\nimport { Form, Field } from 'react-final-form'\nimport { Checkbox } from '../../components/checkbox'\nimport { ButtonsContainer } from '../../components/buttons-container'\nimport { P } from '../../components/paragraph'\nimport { Text } from '../../components/text'\nimport { TextArea } from '../../components/text-area'\nimport { Label } from '../../components/label'\nimport { finalFormAdapter } from '../../utils/finalFormAdapter'\nimport { getImpact } from '../../utils/queriesAndMutations'\n\nconst CheckboxAdapter = finalFormAdapter(Checkbox)\nconst TextAreaAdapter = finalFormAdapter(TextArea)\n\nconst howWereYouAffected = [\n  i18nMark('Device or account hacked'),\n  i18nMark('Information stolen'),\n  i18nMark('Money lost'),\n  i18nMark('Reputation damaged'),\n  i18nMark('Safety threatened'),\n  i18nMark('Wellbeing affected'),\n  i18nMark('Other impact'),\n]\n\nconst CheckboxStyle = styled('label')`\n  margin-bottom: 8pt;\n`\nconst Fieldset = styled('fieldset')`\n  margin: 0;\n  padding: 0;\n  border: none;\n`\n\nconst validate = () => {\n  return {}\n}\nexport const ImpactStatementInfoForm = props => (\n  <ApolloConsumer>\n    {client => (\n      <Form\n        initialValues={getImpact(client)}\n        onSubmit={data => props.onSubmit(client, data)}\n        validate={validate}\n        render={({ handleSubmit, values }) => (\n          <form onSubmit={handleSubmit}>\n            <Fieldset>\n              <Label htmlFor=\"howWereYouAffected\">\n                <P>\n                  <Trans>\n                    <strong>What was the impact of the scam?</strong>\n                  </Trans>\n                </P>\n              </Label>\n\n              <div>\n                <I18n>\n                  {({ i18n }) =>\n                    howWereYouAffected.map(key => {\n                      return (\n                        <CheckboxStyle key={key}>\n                          <Field\n                            name=\"howWereYouAffected\"\n                            component={CheckboxAdapter}\n                            type=\"checkbox\"\n                            value={key}\n                            label={i18n._(key)}\n                          />\n                        </CheckboxStyle>\n                      )\n                    })\n                  }\n                </I18n>\n              </div>\n            </Fieldset>\n\n            <Text marginTop={[5, null, 6]}>\n              <Trans>\n                <strong>Tell us more about how it impacted you.</strong>\n              </Trans>\n            </Text>\n            <Text fontSize={(1, null, 2)}>\n              <Trans>\n                For example: the amount of money, the information\n                taken, what else was affected\n              </Trans>\n            </Text>\n            <div>\n              <Field\n                name=\"damage\"\n                id=\"damage\"\n                component={TextAreaAdapter}\n                height=\"75px\"\n              />\n            </div>\n\n            <ButtonsContainer\n              buttonLink={false}\n              cancel={true}\n              nextPage=\"Contact info\"\n            />\n          </form>\n        )}\n      />\n    )}\n  </ApolloConsumer>\n)\n\nImpactStatementInfoForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAEA;AAAA;AAAA;AAQA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AAbA;AAmBA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAOA;AACA;AACA;AACA;AAJA;AASA;AACA;AACA;AAHA;AApDA;AAJA;AADA;AAFA;AAuEA;AACA;AADA;;;;A","sourceRoot":""}