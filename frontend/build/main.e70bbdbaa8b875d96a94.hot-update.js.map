{"version":3,"file":"main.e70bbdbaa8b875d96a94.hot-update.js","sources":["webpack:///./src/p1/forms/SuspectInfoForm.js"],"sourcesContent":["/** @jsx jsx */\nimport React from 'react'\n\nimport PropTypes from 'prop-types'\nimport { css, jsx } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport { Trans } from '@lingui/macro'\nimport { I18n, i18nMark } from '@lingui/react'\nimport { Form, Field } from 'react-final-form'\nimport { Checkbox } from '../../components/checkbox'\nimport { TextArea } from '../../components/text-area'\nimport { Button } from '../../components/button'\nimport { Link } from '../../components/link'\nimport { Text } from '../../components/text'\nimport { ApolloConsumer } from 'react-apollo'\nimport { finalFormAdapter } from '../../utils/finalFormAdapter'\nimport { Container } from '../../components/container'\nimport { getSuspectInfo } from '../../utils/queriesAndMutations'\n\nconst CheckboxAdapter = finalFormAdapter(Checkbox)\nconst TextAreaAdapter = finalFormAdapter(TextArea)\n\nconst languages = [\n  i18nMark('English'),\n  i18nMark('French'),\n  i18nMark('Other language'),\n]\n\nconst CheckboxStyle = styled('label')`\n  margin-bottom: 8pt;\n`\n\nconst Fieldset = styled('fieldset')`\n  margin: 0;\n  padding: 0;\n  border: none;\n`\n\nconst validate = () => {\n  return {}\n}\n\nexport const SuspectInfoForm = ({ onSubmit }) => (\n  <ApolloConsumer>\n    {client => (\n      <Form\n        initialValues={getSuspectInfo(client)}\n        onSubmit={data => onSubmit(client, data)}\n        validate={validate}\n        render={({ handleSubmit, values }) => (\n          <form onSubmit={handleSubmit}>\n            <label htmlFor=\"suspectName\">\n              <Text>\n                <Trans>Name</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectName\"\n                id=\"suspectName\"\n                component={TextAreaAdapter}\n                height=\"25px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <label htmlFor=\"suspectEmail\">\n              <Text marginTop={[4, null, 5]}>\n                <Trans>Email address</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectEmail\"\n                id=\"suspectEmail\"\n                component={TextAreaAdapter}\n                height=\"25px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <label htmlFor=\"suspectPhone\">\n              <Text marginTop={[4, null, 5]}>\n                <Trans>Phone number</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectPhone\"\n                id=\"suspectPhone\"\n                component={TextAreaAdapter}\n                height=\"25px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <label htmlFor=\"suspectWebsite\">\n              <Text marginTop={[4, null, 5]}>\n                <Trans>Website link</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectWebsite\"\n                id=\"suspectWebsite\"\n                component={TextAreaAdapter}\n                height=\"25px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <label htmlFor=\"suspectAddress\">\n              <Text marginTop={[4, null, 5]}>\n                <Trans>Mailing address</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectAddress\"\n                id=\"suspectAddress\"\n                component={TextAreaAdapter}\n                height=\"100px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <label htmlFor=\"suspectIP\">\n              <Text marginTop={[4, null, 5]}>\n                <Trans>IP address</Trans>\n              </Text>\n            </label>\n            <div>\n              <Field\n                name=\"suspectIP\"\n                id=\"suspectIP\"\n                component={TextAreaAdapter}\n                height=\"25px\"\n                width=\"300px\"\n              />\n            </div>\n\n            <Fieldset>\n              <legend>\n                <Text marginTop={[4, null, 5]}>\n                  <Trans>Language used to communicate</Trans>\n                </Text>\n              </legend>\n              <div>\n                <I18n>\n                  {({ i18n }) =>\n                    languages.map(key => {\n                      return (\n                        <CheckboxStyle key={key}>\n                          <Field\n                            name=\"suspectLanguage\"\n                            component={CheckboxAdapter}\n                            type=\"checkbox\"\n                            value={key}\n                            label={i18n._(key)}\n                          />\n                        </CheckboxStyle>\n                      )\n                    })\n                  }\n                </I18n>\n              </div>\n            </Fieldset>\n\n            {values.suspectLanguage &&\n            values.suspectLanguage.indexOf('Other language') > -1 ? (\n              <React.Fragment>\n                <label htmlFor=\"otherSuspectLanguage\">\n                  <Text>\n                    <Trans>Other language</Trans>\n                  </Text>\n                </label>\n                <div>\n                  <Field\n                    name=\"otherSuspectLanguage\"\n                    id=\"otherSuspectLanguage\"\n                    component={TextAreaAdapter}\n                    height=\"25px\"\n                    width=\"300px\"\n                  />\n                </div>\n              </React.Fragment>\n            ) : (\n              ''\n            )}\n\n            <Container\n              width=\"305px\"\n              marginTop={[3, null, 4]}\n              css={css`\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n              `}\n            >\n              <Button type=\"submit\">\n                <Trans>Continue</Trans>\n              </Button>\n            </Container>\n\n            <Container\n              width=\"300px\"\n              marginTop={[2, null, 3]}\n              css={css`\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n              `}\n            >\n              <Link type=\"button\" color=\"black\" to=\"/p1/\" textAlign=\"center\">\n                <Trans>Cancel report</Trans>\n              </Link>\n            </Container>\n          </form>\n        )}\n      />\n    )}\n  </ApolloConsumer>\n)\n\nSuspectInfoForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AAWA;AAAA;AACA;AAAA;AAKA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AAbA;AAsBA;AAAA;AAEA;AAAA;AAKA;AACA;AACA;AACA;AACA;AALA;AAcA;AACA;AACA;AAHA;AASA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AAHA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AArKA;AAJA;AADA;AAFA;AAsLA;AACA;AADA;;;;A","sourceRoot":""}