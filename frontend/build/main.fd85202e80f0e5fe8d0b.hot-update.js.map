{"version":3,"file":"main.fd85202e80f0e5fe8d0b.hot-update.js","sources":["webpack:///./src/p2/forms/ImpactStatementInfoForm.js"],"sourcesContent":["/** @jsx jsx */\nimport PropTypes from 'prop-types'\nimport { css, jsx } from '@emotion/core'\nimport styled from '@emotion/styled'\nimport { ApolloConsumer } from 'react-apollo'\nimport { I18n, i18nMark } from '@lingui/react'\nimport { Trans } from '@lingui/macro'\nimport { Form, Field } from 'react-final-form'\nimport { Checkbox } from '../../components/checkbox'\nimport { Container } from '../../components/container'\nimport { H2 } from '../../components/header'\nimport { P } from '../../components/paragraph'\nimport { Button } from '../../components/button'\nimport { Link } from '../../components/link'\nimport { TextArea } from '../../components/text-area'\nimport { Label } from '../../components/label'\nimport { finalFormAdapter } from '../../utils/finalFormAdapter'\nimport { getImpact } from '../../utils/queriesAndMutations'\n\nconst CheckboxAdapter = finalFormAdapter(Checkbox)\nconst TextAreaAdapter = finalFormAdapter(TextArea)\n\nconst howWereYouAffected = [\n  i18nMark('Device or account hacked'),\n  i18nMark('Information stolen'),\n  i18nMark('Money lost'),\n  i18nMark('Reputation damaged'),\n  i18nMark('Safety threatened'),\n  i18nMark('Wellbeing affected'),\n  i18nMark('Other impact'),\n]\n\nconst CheckboxStyle = styled('label')`\n  margin-bottom: 8pt;\n`\nconst Fieldset = styled('fieldset')`\n  margin: 0;\n  padding: 0;\n  border: none;\n`\n\nconst validate = () => {\n  return {}\n}\nexport const ImpactStatementInfoForm = props => (\n  <ApolloConsumer>\n    {client => (\n      <Form\n        initialValues={getImpact(client)}\n        onSubmit={data => props.onSubmit(client, data)}\n        validate={validate}\n        render={({ handleSubmit, values }) => (\n          <form onSubmit={handleSubmit}>\n            <Fieldset>\n              <Label htmlFor=\"howWereYouAffected\">\n                <H2 fontSize={[4, null, 5]} marginTop={[3, null, 4]}>\n                  <Trans>What was affected? </Trans>\n                </H2>\n              </Label>\n\n              <div>\n                <I18n>\n                  {({ i18n }) =>\n                    howWereYouAffected.map(key => {\n                      return (\n                        <CheckboxStyle key={key}>\n                          <Field\n                            name=\"howWereYouAffected\"\n                            component={CheckboxAdapter}\n                            type=\"checkbox\"\n                            value={key}\n                            label={i18n._(key)}\n                          />\n                        </CheckboxStyle>\n                      )\n                    })\n                  }\n                </I18n>\n              </div>\n            </Fieldset>\n\n            {values.howWereYouAffected &&\n            values.howWereYouAffected.indexOf('Other impact') > -1 ? (\n              <Container marginTop={[2, null, 3]}>\n                <Field\n                  name=\"otherImpact\"\n                  id=\"otherImpact\"\n                  component={TextAreaAdapter}\n                  height=\"50px\"\n                />\n              </Container>\n            ) : (\n              ''\n            )}\n\n            <br />\n            <P>\n              <Trans>Tell us more about the impact</Trans>\n            </P>\n              <Field\n                name=\"damage\"\n                id=\"damage\"\n                component={TextAreaAdapter}\n                height=\"200px\"\n              />\n\n            <Container\n              width=\"305px\"\n              marginTop={[1, null, 1]}\n              css={css`\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n              `}\n            >\n              <Button type=\"submit\">\n                <Trans>Continue</Trans>\n              </Button>\n            </Container>\n\n            <Container\n              width=\"300px\"\n              marginTop={[1, null, 1]}\n              css={css`\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n              `}\n            >\n              <Link type=\"button\" color=\"black\" to=\"/p2\" textAlign=\"center\">\n                <Trans>Cancel report</Trans>\n              </Link>\n            </Container>\n          </form>\n        )}\n      />\n    )}\n  </ApolloConsumer>\n)\n\nImpactStatementInfoForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;;;;;;;;;;;;;AAAA;AAAA;AAEA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAMA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AASA;AAbA;AAqBA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAaA;AAAA;AAGA;AACA;AACA;AACA;AAJA;AAQA;AACA;AACA;AAHA;AASA;AAAA;AACA;AAAA;AAKA;AACA;AACA;AAHA;AASA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AA/EA;AAJA;AADA;AAFA;AAgGA;AACA;AADA;;;;A","sourceRoot":""}